<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>로그인 페이지</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>

    <script>
        function sign_in() {
            let user_id = $('#user-id').val()
            let user_pw = $('#user-pw').val()

            if (user_id == "") {
                alert("아이디를 입력하세요")
                return
            }
            else if (user_pw == "") {
                alert("비밀번호를 입력하세요")
            }
            $.ajax({
                type: "POST",
                url: "/api/sign_in",
                data: {
                    id_give: $('#user-id').val(),
                    pw_give: $('#user-pw').val()
                },
                success: function (response) {
                    if (response['result'] == 'success') {
                        $.cookie('mytoken', response['token']);
                        window.location.replace("/sign_ok")
                        alert("로그인 성공")
                    } else {
                        alert(response['msg'])
                        window.location.reload()
                    }
                }
            })
        }

    </script>
</head>
<body>
로그인 페이지<br>
id:<input id="user-id" type="text"><br>
pw:<input id="user-pw" type="text"><br>
<button onclick="sign_in()" type="button">로그인!</button>
</body>
</html>